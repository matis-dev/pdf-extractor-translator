============================= test session starts ==============================
platform linux -- Python 3.12.7, pytest-7.4.4, pluggy-1.0.0 -- /home/matis/anaconda3/bin/python
cachedir: .pytest_cache
rootdir: /home/matis/Desktop/projects/pdf
plugins: Faker-38.2.0, langsmith-0.5.0, base-url-2.1.0, flask-1.3.0, mock-3.15.1, playwright-0.7.2, anyio-4.6.2
collecting ... collected 1 item

tests/test_frontend.py::test_thumbnails[chromium] FAILED

=================================== FAILURES ===================================
__________________________ test_thumbnails[chromium] ___________________________

page = <Page url='http://localhost:5001/editor/thumbnails_test.pdf'>
live_server_url = 'http://localhost:5001'

    def test_thumbnails(page: Page, live_server_url):
        """Test that thumbnails are generated and interactive."""
        from reportlab.pdfgen import canvas
    
        # Create a 3-page PDF
        pdf_name = "thumbnails_test.pdf"
        absolute_pdf_path = os.path.abspath(pdf_name)
    
        c = canvas.Canvas(absolute_pdf_path)
        for i in range(3):
            c.drawString(100, 750, f"Page {i+1}")
            c.showPage()
        c.save()
    
        try:
            page.goto(live_server_url)
    
            # Upload
            page.set_input_files("input#pdf_file", absolute_pdf_path)
>           page.get_by_text("Upload & Edit").click()

tests/test_frontend.py:119: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../anaconda3/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15637: in click
    self._sync(
../../../anaconda3/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click
    return await self._frame._click(self._selector, strict=True, **params)
../../../anaconda3/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click
    await self._channel.send("click", self._timeout, locals_to_params(locals()))
../../../anaconda3/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send
    return await self._connection.wrap_api_call(
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <playwright._impl._connection.Connection object at 0x725ab760a120>
cb = <function Channel.send.<locals>.<lambda> at 0x725ab6cdde40>
is_internal = False, title = None

    async def wrap_api_call(
        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None
    ) -> Any:
        if self._api_zone.get():
            return await cb()
        task = asyncio.current_task(self._loop)
        st: List[inspect.FrameInfo] = getattr(
            task, "__pw_stack__", None
        ) or inspect.stack(0)
    
        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)
        self._api_zone.set(parsed_st)
        try:
            return await cb()
        except Exception as error:
>           raise rewrite_error(error, f"{parsed_st['apiName']}: {error}") from None
E           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.
E           Call log:
E             - waiting for get_by_text("Upload & Edit")
E               - waiting for" http://localhost:5001/upload" navigation to finish...
E               - navigated to "http://localhost:5001/editor/thumbnails_test.pdf"

../../../anaconda3/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError
=============================== warnings summary ===============================
<frozen importlib._bootstrap>:488
  <frozen importlib._bootstrap>:488: DeprecationWarning: builtin type SwigPyPacked has no __module__ attribute

<frozen importlib._bootstrap>:488
  <frozen importlib._bootstrap>:488: DeprecationWarning: builtin type SwigPyObject has no __module__ attribute

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED tests/test_frontend.py::test_thumbnails[chromium] - playwright._impl._...
======================== 1 failed, 2 warnings in 43.16s ========================
sys:1: DeprecationWarning: builtin type swigvarlink has no __module__ attribute
